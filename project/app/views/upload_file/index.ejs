<% include ../template/header %>
<% include ../template/nav %>
<div id="wrapper">
  <% include ../template/sidebar %>
  <div id="content-wrapper">

    <div class="container-fluid">

      <!-- Breadcrumbs-->
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="/home">Home</a>
        </li>
        <li class="breadcrumb-item active">Upload File</li>
      </ol>

      <!-- Page Content -->
      <h1>Upload File</h1>
      <div class="col s12">
          <a href="/upload_file/add" class="btn btn-success btn-lg">Upload new file</a>
      </div>
      <hr>
      <h1>File List</h1>
      <% if(fileList.length > 0){ %>
        <table class="table" id="myTable">
            <thead>
                <tr>
                    <th>Sr. No.</th>
                    <th>File Name</th>
                    <th>Download</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <% fileList.forEach(function(item, index){ %> 
                    <tr>
                        <td><%= index + 1 %></td>
                        <td><%= item.file_name %></td>
                        <td><a href="/<%= item.file_name %>" download>Download</a></td>
                        <td>
                            <a href="/upload_file/edit/<%= item.file_upload_id %>" class="btn btn-success">Edit</a> 
                            
                            <a href="/upload_file/delete/<%= item.file_upload_id %>" onClick="return confirm('Are you sure you want to delete?')" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    <% } else { %>
        <p><strong>There are no records available</strong></p>
    <% } %>

    </div>

  </div>
</div>
<% include ../template/footer %>